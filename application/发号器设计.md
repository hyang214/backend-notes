# 发号器设计

## 应用场景
需要统一的编号申请。


## 常见算法

### UUID
UUID是指在一台机器上生成的数字，它保证对在同一时空中的所有机器都是唯一的。
+ 组成：
    + 当前日期和时间
    + 时钟序列
    + 全局唯一的IEEE机器识别号
+ 格式：
	+ UUID的标准型式包含32个16进制数字
	+ 2^8 * 16 = 16 byte
	+ 例子：550E8400-E29B-11D4-A716-446655440000
	+ 16进制表示
	```
    [time-low]-[time-mide]-[time-high-and-version]-[clock-seq-and-reserved 和 clock-seq-low]-[node]
	```
	 + 二进制表示
    ```
           76543210765432107654321076543210
           + – - – = – - – = – - – = – - – +
        15 |            TimeLow            | 12
        11 |    TimeMid    |   Version..   |  8
        7  |Vari.. |Clock..|     Node      |  4
        3  |             Node              |  0
           + – - – = – - – = – - – = – - – +
        15 – 12: TimeLow 时间值的低位
        11 – 10: TimeMid 时间值的中位
        09 – 08: VersionAndTimeHigh 4位版本号和时间值的高位
        07: VariantAndClockSeqHigh 2位变体（ITU-T）和时钟序列高位
        06: ClockSeqLow 时钟序列低位
        05 – 00: Node 结点
        hexOctet = hexDigit hexDigit
        hexDigit =
        “0″ / “1″ / “2″ / “3″ / “4″ / “5″ / “6″ / “7″ / “8″ / “9″ /
        “a” / “b” / “c” / “d” / “e” / “f” /
        “A” / “B” / “C” / “D” / “E” / “F”
        UUID =
        TimeLow
        “-” TimeMid
        “-” VersionAndTimeHigh
        “-” VariantAndClockSeqHigh ClockSeqLow
        “-” Node
    ```
+ 版本：
	+ UUID Version 1：基于时间的UUID
	+ UUID Version 2：DCE安全的UUID
	+ UUID Version 3：基于名字的UUID（MD5）
	+ UUID Version 4：随机UUID
	+ UUID Version 5：基于名字的UUID（SHA1）
+ 问题：
	+ 没有顺序
	+ 长度太长

### 数据库主键(单机)


## Reference
1. [分布式 ID 生成策略](https://maimai.cn/article/detail?fid=1218153141&efid=12BpxCVssq87f6pRaF-yfw)
2. [深入解析UUID及其应用](https://blog.csdn.net/yipiankongbai/article/details/25243531)
3. [UUID原理](https://blog.csdn.net/ScrappyShiyu/article/details/79936897)