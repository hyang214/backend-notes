# 短地址服务设计

## 问题

将一个 较长的 url 转换成一个固定长度的短地址。主要用于有字数限制的场景，比如：tweet或者微博(140字)，给用户发的短信等等。

考虑如下问题：
+ 现实中的url不受限于长度，理论上市无穷无尽
+ 受限于设计要求，短地址长度长度有限，有大小写+数字=62个字符，6位长度562亿，8位长度2^14
+ （无穷无尽的长地址）+ （空间是有限的短地址) ->无法设计出满足**双射**的函数来实现转换
	+ 一个完美的Hash函数，实现一一对应，就是不可能的
+ 无法双射 -> 必然出现碰撞
+ 出现碰撞 -> 解码逻辑需要依靠存储的 （长，短）地址映射数据库 空间成本
+ 依靠存储 -> 解码需要查询 -> 查询性能要求



## Reference
[[转]微博URL短网址生成算法原理及（java版、php版实现实例](https://www.cnblogs.com/latteyan/articles/5845117.html)
[短 URL 系统是怎么设计的](https://www.zhihu.com/question/29270034)
[短链接服务架构设计与实现](https://blog.csdn.net/lz0426001/article/details/52370177)
[短网址服务系统如何设计](https://www.jianshu.com/p/d1cb7a51e7e5)